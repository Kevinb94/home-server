(self["webpackChunktandoor"]=self["webpackChunktandoor"]||[]).push([[4916],{99010:function(t,n,i){"use strict";i.r(n),i.d(n,{default:function(){return u}});var e=function(){var t=this,n=t._self._c;return t.item.ignore_shopping?t._e():n("span",[n("b-button",{staticClass:"btn text-decoration-none px-1 border-0",attrs:{variant:"link",id:`shopping${t.item.id}`},on:{click:function(n){return t.addShopping()}}},[n("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html",modifiers:{hover:!0,html:!0}}],staticClass:"fas",class:[t.shopping?"text-success fa-shopping-cart":"text-muted fa-cart-plus"],attrs:{title:[t.shopping?t.$t("RemoveFoodFromShopping",{food:t.$sanitize(t.item.name)}):t.$t("AddFoodToShopping",{food:t.$sanitize(t.item.name)})]}})]),t.shopping?n("b-popover",{ref:"shopping"+t.item.id,attrs:{target:`${t.ShowConfirmation}`,triggers:"focus",placement:"top"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.DeleteConfirmation))]},proxy:!0}],null,!1,3160249158)},[n("b-row",{attrs:{"align-h":"end"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{staticClass:"btn btn-sm btn-info shadow-none px-1 border-0",on:{click:function(n){return t.cancelDelete()}}},[t._v(t._s(t.$t("Cancel")))]),n("b-button",{staticClass:"btn btn-sm btn-danger shadow-none px-1",on:{click:function(n){return t.confirmDelete()}}},[t._v(t._s(t.$t("Confirm")))])],1)],1)],1):t._e()],1)},o=[],s=i(49665),a=i(70538),r=i(65284),p=i.n(r);a["default"].use(p());var h={name:"ShoppingBadge",props:{item:{type:Object}},mixins:[s.ApiMixin],data(){return{shopping:!1}},mounted(){this.shopping=this.item?.shopping},computed:{DeleteConfirmation(){return this.$t("DeleteShoppingConfirm",{food:this.item.name})},ShowConfirmation(){return this.shopping?"shopping"+this.item.id:""}},watch:{"item.shopping":function(t,n){this.shopping=t}},methods:{addShopping(){if(this.shopping)return;let t={id:this.item.id,amount:1};this.genericAPI(this.Models.FOOD,this.Actions.SHOPPING,t).then((t=>{this.shopping=!0,s.StandardToasts.makeStandardToast(this,s.StandardToasts.SUCCESS_CREATE)}))},cancelDelete(){this.$refs["shopping"+this.item.id].$emit("close")},confirmDelete(){let t={id:this.item.id,_delete:"true"};this.genericAPI(this.Models.FOOD,this.Actions.SHOPPING,t).then((()=>{this.shopping=!1,this.$refs["shopping"+this.item.id].$emit("close"),s.StandardToasts.makeStandardToast(this,s.StandardToasts.SUCCESS_DELETE)}))}}},d=h,c=i(1001),l=(0,c.Z)(d,e,o,!1,null,null,null),u=l.exports},22868:function(){},14777:function(){},99830:function(){},70209:function(){},87414:function(){}}]);