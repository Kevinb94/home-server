"use strict";(self["webpackChunktandoor"]=self["webpackChunktandoor"]||[]).push([[1364],{26404:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var s=function(){var e=this,t=e._self._c;return void 0!==e.user_preferences?t("div",[t("b-form-group",{attrs:{label:e.$t("Default_Unit")}},[t("b-form-input",{on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.default_unit,callback:function(t){e.$set(e.user_preferences,"default_unit",t)},expression:"user_preferences.default_unit"}})],1),t("b-form-group",{attrs:{label:e.$t("Decimals")}},[t("b-form-input",{attrs:{type:"number",min:"0",max:"4",step:"1"},on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.ingredient_decimals,callback:function(t){e.$set(e.user_preferences,"ingredient_decimals",t)},expression:"user_preferences.ingredient_decimals"}})],1),t("b-form-group",{attrs:{description:e.$t("Use_Fractions_Help")}},[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.use_fractions,callback:function(t){e.$set(e.user_preferences,"use_fractions",t)},expression:"user_preferences.use_fractions"}},[e._v(" "+e._s(e.$t("Use_Fractions"))+" ")])],1),t("b-form-group",[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.use_kj,callback:function(t){e.$set(e.user_preferences,"use_kj",t)},expression:"user_preferences.use_kj"}},[e._v(e._s(e.$t("Use_Kj"))+" ")])],1),t("b-form-group",[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.comments,callback:function(t){e.$set(e.user_preferences,"comments",t)},expression:"user_preferences.comments"}},[e._v(" "+e._s(e.$t("Comments_setting"))+" ")])],1),t("b-form-group",{attrs:{description:e.$t("left_handed_help")}},[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.left_handed,callback:function(t){e.$set(e.user_preferences,"left_handed",t)},expression:"user_preferences.left_handed"}},[e._v(" "+e._s(e.$t("left_handed"))+" ")])],1),t("b-form-group",{attrs:{description:e.$t("show_step_ingredients_setting_help")}},[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!1)}},model:{value:e.user_preferences.show_step_ingredients,callback:function(t){e.$set(e.user_preferences,"show_step_ingredients",t)},expression:"user_preferences.show_step_ingredients"}},[e._v(" "+e._s(e.$t("show_step_ingredients_setting"))+" ")])],1),t("b-form-group",{attrs:{label:e.$t("DefaultPage")}},[t("b-form-select",{on:{change:function(t){return e.updateSettings(!0)}},model:{value:e.user_preferences.default_page,callback:function(t){e.$set(e.user_preferences,"default_page",t)},expression:"user_preferences.default_page"}},[t("b-form-select-option",{attrs:{value:"SEARCH"}},[e._v(e._s(e.$t("Search")))]),t("b-form-select-option",{attrs:{value:"SHOPPING"}},[e._v(e._s(e.$t("Shopping")))]),t("b-form-select-option",{attrs:{value:"PLAN"}},[e._v(e._s(e.$t("Meal_Plan")))]),t("b-form-select-option",{attrs:{value:"BOOKS"}},[e._v(e._s(e.$t("Books")))])],1)],1),t("hr"),t("b-form-group",{attrs:{label:e.$t("Language")}},[t("b-form-select",{on:{change:e.updateLanguage},model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},e._l(e.languages,(function(r){return t("b-form-select-option",{key:r[0],attrs:{value:r[1]}},[e._v(e._s(r[0])+" ("+e._s(r[1])+") ")])})),1)],1),t("b-alert",{attrs:{variant:"warning",show:""}},[t("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.$t("Space_Cosmetic_Settings")))]),t("b-form-group",{attrs:{label:e.$t("Theme")}},[t("b-form-select",{on:{change:function(t){return e.updateSettings(!0)}},model:{value:e.user_preferences.theme,callback:function(t){e.$set(e.user_preferences,"theme",t)},expression:"user_preferences.theme"}},[t("b-form-select-option",{attrs:{value:"TANDOOR"}},[e._v("Tandoor")]),t("b-form-select-option",{attrs:{value:"TANDOOR_DARK"}},[e._v("Tandoor Dark (Beta)")]),t("b-form-select-option",{attrs:{value:"BOOTSTRAP"}},[e._v("Bootstrap")]),t("b-form-select-option",{attrs:{value:"DARKLY"}},[e._v("Darkly")]),t("b-form-select-option",{attrs:{value:"FLATLY"}},[e._v("Flatly")]),t("b-form-select-option",{attrs:{value:"SUPERHERO"}},[e._v("Superhero")])],1)],1),t("b-form-group",{attrs:{label:e.$t("Nav_Color"),description:e.$t("Nav_Color_Help")}},[t("b-input-group",[t("b-form-input",{attrs:{type:"color"},on:{change:function(t){return e.updateSettings(!0)}},model:{value:e.user_preferences.nav_bg_color,callback:function(t){e.$set(e.user_preferences,"nav_bg_color",t)},expression:"user_preferences.nav_bg_color"}}),t("b-input-group-append",[t("b-button",{on:{click:function(t){e.user_preferences.nav_bg_color="#ddbf86",e.updateSettings(!0)}}},[e._v(e._s(e.$t("Reset")))])],1)],1)],1),t("b-form-group",{attrs:{label:e.$t("Nav_Text_Mode"),description:e.$t("Nav_Text_Mode_Help")}},[t("b-form-select",{on:{change:function(t){return e.updateSettings(!0)}},model:{value:e.user_preferences.nav_text_color,callback:function(t){e.$set(e.user_preferences,"nav_text_color",t)},expression:"user_preferences.nav_text_color"}},[t("b-form-select-option",{attrs:{value:"LIGHT"}},[e._v("Light")]),t("b-form-select-option",{attrs:{value:"DARK"}},[e._v("Dark")])],1)],1),t("b-form-group",{attrs:{description:e.$t("Show_Logo_Help")}},[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!0)}},model:{value:e.user_preferences.nav_show_logo,callback:function(t){e.$set(e.user_preferences,"nav_show_logo",t)},expression:"user_preferences.nav_show_logo"}},[e._v(" "+e._s(e.$t("Show_Logo"))+" ")])],1),t("b-form-group",{attrs:{description:e.$t("Sticky_Nav_Help")}},[t("b-form-checkbox",{on:{change:function(t){return e.updateSettings(!0)}},model:{value:e.user_preferences.nav_sticky,callback:function(t){e.$set(e.user_preferences,"nav_sticky",t)},expression:"user_preferences.nav_sticky"}},[e._v(" "+e._s(e.$t("Sticky_Nav"))+" ")])],1)],1):e._e()},n=[],a=(r(46229),r(17330),r(62062),r(6955)),o=r(49665),c=r(5121);c.Z.defaults.xsrfCookieName="csrftoken",c.Z.defaults.xsrfHeaderName="X-CSRFTOKEN";var u={name:"CosmeticSettingsComponent",props:{user_id:Number},data(){return{user_preferences:void 0,languages:[]}},mounted(){this.$i18n.locale=window.CUSTOM_LOCALE,this.user_preferences=this.preferences,this.languages=window.AVAILABLE_LANGUAGES,this.loadSettings()},methods:{loadSettings:function(){let e=new a.ApiApiFactory;e.retrieveUserPreference(this.user_id.toString()).then((e=>{this.user_preferences=e.data})).catch((e=>{o.StandardToasts.makeStandardToast(this,o.StandardToasts.FAIL_FETCH,e)}))},updateSettings:function(e){let t=new a.ApiApiFactory;t.partialUpdateUserPreference(this.user_id.toString(),this.user_preferences).then((t=>{o.StandardToasts.makeStandardToast(this,o.StandardToasts.SUCCESS_UPDATE),e&&location.reload()})).catch((e=>{o.StandardToasts.makeStandardToast(this,o.StandardToasts.FAIL_UPDATE,e)}))},updateLanguage:function(){c.Z.post((0,o.resolveDjangoUrl)("set_language"),new URLSearchParams({language:this.$i18n.locale})).then((e=>{o.StandardToasts.makeStandardToast(this,o.StandardToasts.SUCCESS_UPDATE),location.reload()})).catch((e=>{o.StandardToasts.makeStandardToast(this,o.StandardToasts.FAIL_UPDATE,e)}))}}},i=u,l=r(1001),_=(0,l.Z)(i,s,n,!1,null,"61426ff7",null),p=_.exports}}]);