"use strict";(self["webpackChunktandoor"]=self["webpackChunktandoor"]||[]).push([[1465,3470,6343,7819,3744,2801,5778,7362,3591,607,479,1070,3933,4634],{3736:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return e("span",[t.linkedRecipe?e("linked-recipe",{attrs:{item:t.item}}):t._e(),t.Icon?e("icon-badge",{attrs:{item:t.item}}):t._e(),t.OnHand?e("on-hand-badge",{attrs:{item:t.item}}):t._e(),t.Shopping?e("shopping-badge",{attrs:{item:t.item}}):t._e()],1)},a=[],s=i(46294),r=i(68112),o=i(92016),l=i(99010),c={name:"CardBadges",components:{LinkedRecipe:s["default"],IconBadge:r["default"],OnHandBadge:o["default"],ShoppingBadge:l["default"]},props:{item:{type:Object},model:{type:Object}},data(){return{}},mounted(){},computed:{linkedRecipe:function(){return this.model?.badges?.linked_recipe??!1},Icon:function(){return this.model?.badges?.icon??!1},OnHand:function(){return this.model?.badges?.food_onhand??!1},Shopping:function(){return this.model?.badges?.shopping??!1}},watch:{},methods:{}},d=c,u=i(1001),p=(0,u.Z)(d,n,a,!1,null,null,null),m=p.exports},68112:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("span",[t.item.icon?e("b-button",{staticClass:"btn px-1 py-0 border-0 text-decoration-none",attrs:{variant:"link"}},[t._v(" "+t._s(t.item.icon)+" ")]):t._e()],1)},a=[],s={name:"IconBadge",props:{item:{type:Object}},data(){return{}},mounted(){},watch:{},methods:{}},r=s,o=i(1001),l=(0,o.Z)(r,n,a,!1,null,null,null),c=l.exports},46294:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("span",[t.item.recipe?e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn text-decoration-none fas fa-book-open px-1 py-0 border-0",attrs:{title:t.item.recipe.name,variant:"link",href:t.item.recipe.url}}):t._e()],1)},a=[],s={name:"LinkedRecipeBadge",props:{item:{type:Object}},data(){return{}},mounted(){},watch:{},methods:{}},r=s,o=i(1001),l=(0,o.Z)(r,n,a,!1,null,null,null),c=l.exports},92016:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return e("span",[t.item.ignore_shopping?t._e():e("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html",modifiers:{hover:!0,html:!0}}],staticClass:"btn text-decoration-none fas px-1 py-0 border-0",class:t.IconClass,attrs:{variant:"link",title:t.$sanitize(t.Title)},on:{click:t.toggleOnHand}})],1)},a=[],s=i(49665),r=i(70538),o=i(65284),l=i.n(o);r["default"].use(l());var c={name:"OnHandBadge",props:{item:{type:Object}},mixins:[s.ApiMixin],data(){return{onhand:!1}},computed:{Title:function(){return this.onhand?this.$t("FoodOnHand",{food:this.item.name}):this.item.substitute_onhand?this.$t("SubstituteOnHand"):this.$t("FoodNotOnHand",{food:this.item.name})},IconClass:function(){return this.onhand?"text-success fa-clipboard-check":this.item.substitute_onhand?"text-warning fa-clipboard-check":"text-muted fa-clipboard"}},mounted(){this.onhand=this.item.food_onhand},watch:{"item.food_onhand":function(t,e){this.onhand=t}},methods:{toggleOnHand(){let t={id:this.item.id,food_onhand:!this.onhand};this.genericAPI(this.Models.FOOD,this.Actions.UPDATE,t).then((()=>{this.onhand=!this.onhand}))}}},d=c,u=i(1001),p=(0,u.Z)(d,n,a,!1,null,null,null),m=p.exports},99010:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return t.item.ignore_shopping?t._e():e("span",[e("b-button",{staticClass:"btn text-decoration-none px-1 border-0",attrs:{variant:"link",id:`shopping${t.item.id}`},on:{click:function(e){return t.addShopping()}}},[e("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html",modifiers:{hover:!0,html:!0}}],staticClass:"fas",class:[t.shopping?"text-success fa-shopping-cart":"text-muted fa-cart-plus"],attrs:{title:[t.shopping?t.$t("RemoveFoodFromShopping",{food:t.$sanitize(t.item.name)}):t.$t("AddFoodToShopping",{food:t.$sanitize(t.item.name)})]}})]),t.shopping?e("b-popover",{ref:"shopping"+t.item.id,attrs:{target:`${t.ShowConfirmation}`,triggers:"focus",placement:"top"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.DeleteConfirmation))]},proxy:!0}],null,!1,3160249158)},[e("b-row",{attrs:{"align-h":"end"}},[e("b-col",{attrs:{cols:"auto"}},[e("b-button",{staticClass:"btn btn-sm btn-info shadow-none px-1 border-0",on:{click:function(e){return t.cancelDelete()}}},[t._v(t._s(t.$t("Cancel")))]),e("b-button",{staticClass:"btn btn-sm btn-danger shadow-none px-1",on:{click:function(e){return t.confirmDelete()}}},[t._v(t._s(t.$t("Confirm")))])],1)],1)],1):t._e()],1)},a=[],s=i(49665),r=i(70538),o=i(65284),l=i.n(o);r["default"].use(l());var c={name:"ShoppingBadge",props:{item:{type:Object}},mixins:[s.ApiMixin],data(){return{shopping:!1}},mounted(){this.shopping=this.item?.shopping},computed:{DeleteConfirmation(){return this.$t("DeleteShoppingConfirm",{food:this.item.name})},ShowConfirmation(){return this.shopping?"shopping"+this.item.id:""}},watch:{"item.shopping":function(t,e){this.shopping=t}},methods:{addShopping(){if(this.shopping)return;let t={id:this.item.id,amount:1};this.genericAPI(this.Models.FOOD,this.Actions.SHOPPING,t).then((t=>{this.shopping=!0,s.StandardToasts.makeStandardToast(this,s.StandardToasts.SUCCESS_CREATE)}))},cancelDelete(){this.$refs["shopping"+this.item.id].$emit("close")},confirmDelete(){let t={id:this.item.id,_delete:"true"};this.genericAPI(this.Models.FOOD,this.Actions.SHOPPING,t).then((()=>{this.shopping=!1,this.$refs["shopping"+this.item.id].$emit("close"),s.StandardToasts.makeStandardToast(this,s.StandardToasts.SUCCESS_DELETE)}))}}},d=c,u=i(1001),p=(0,u.Z)(d,n,a,!1,null,null,null),m=p.exports},66276:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var n=function(){var t=this,e=t._self._c;return e("span",[e("b-dropdown",{staticStyle:{boundary:"window"},attrs:{variant:"link","toggle-class":"text-decoration-none",right:"","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t.show_edit?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","edit")}}},[e("i",{staticClass:"fas fa-pencil-alt fa-fw"}),t._v(" "+t._s(t.$t("Edit"))+" ")]):t._e(),t.show_delete?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","delete")}}},[e("i",{staticClass:"fas fa-trash-alt fa-fw"}),t._v(" "+t._s(t.$t("Delete"))+" ")]):t._e(),t.show_ingredient_editor?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","ingredient-editor")}}},[e("i",{staticClass:"fas fa-th-list fa-dw"}),t._v(" "+t._s(t.$t("Ingredient Editor"))+" ")]):t._e(),t.show_shopping?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","add-shopping")}}},[e("i",{staticClass:"fas fa-cart-plus fa-fw"}),t._v(" "+t._s(t.$t("Add_to_Shopping"))+" ")]):t._e(),t.show_onhand?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","add-onhand")}}},[e("i",{staticClass:"fas fa-clipboard-check fa-fw"}),t._v(" "+t._s(t.$t("OnHand"))+" ")]):t._e(),t.show_move?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","move")}}},[e("i",{staticClass:"fas fa-expand-arrows-alt fa-fw"}),t._v(" "+t._s(t.$t("Move"))+" ")]):t._e(),t.show_merge?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","merge")}}},[e("i",{staticClass:"fas fa-compress-arrows-alt fa-fw"}),t._v(" "+t._s(t.$t("Merge"))+" ")]):t._e(),t.show_merge?e("b-dropdown-item",{on:{click:function(e){return t.$emit("item-action","merge-automate")}}},[e("i",{staticClass:"fas fa-robot fa-fw"}),t._v(" "+t._s(t.$t("Merge"))+" & "+t._s(t.$t("Automate"))+" "),e("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("warning_feature_beta")}},[t._v("BETA")])],1):t._e()],1)],1)},a=[],s=i(49665),r={name:"GenericContextMenu",mixins:[s.ResolveUrlMixin],props:{show_edit:{type:Boolean,default:!0},show_delete:{type:Boolean,default:!0},show_move:{type:Boolean,default:!1},show_merge:{type:Boolean,default:!1},show_shopping:{type:Boolean,default:!1},show_onhand:{type:Boolean,default:!1},show_ingredient_editor:{type:Boolean,default:!1}}},o=r,l=i(1001),c=(0,l.Z)(o,n,a,!1,null,null,null),d=c.exports},11373:function(t,e,i){i.r(e),i.d(e,{default:function(){return w}});var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{margin:"4px"},attrs:{row:""}},[e("b-card",{class:{"border border-primary":t.over,shake:t.isError},style:{"cursor:grab":t.useDrag},attrs:{"no-body":"","d-flex":"","flex-column":"",draggable:t.useDrag},on:t._d({"useDrag&&`dragenter`||``":[function(t){t.preventDefault()},function(e){return t.handleDragEnter(e)}]},[t.useDrag?"dragover":"",function(t){t.preventDefault()},t.useDrag?"dragstart":"",function(e){return t.handleDragStart(e)},t.useDrag?"dragleave":"",function(e){return t.handleDragLeave(e)},t.useDrag?"drop":"",function(e){return t.handleDragDrop(e)}])},[e("b-row",{attrs:{"no-gutters":""}},[e("b-col",{staticClass:"col-sm-3",attrs:{"no-gutters":""}},[e("b-card-img-lazy",{staticStyle:{"object-fit":"cover",height:"6em"},attrs:{src:t.item_image,alt:t.$t("Recipe_Image")}})],1),e("b-col",{staticClass:"col-sm-9",attrs:{"no-gutters":""}},[e("b-card-body",{staticClass:"m-0 py-0"},[e("b-card-text",{staticClass:"h-100 my-0 d-flex flex-column",staticStyle:{"text-overflow":"ellipsis"}},[e("h5",{staticClass:"m-0 mt-1 text-truncate"},[t._v(t._s(t.item[t.title]))]),""!==t.item[t.plural]&&null!==t.item[t.plural]&&void 0!==t.item[t.plural]?e("div",{staticClass:"m-0 text-truncate"},[t._v("("+t._s(t.$t("plural_short"))+": "+t._s(t.item[t.plural])+")")]):t._e(),e("div",{staticClass:"m-0 text-truncate"},[t._v(t._s(t.item[t.subtitle]))]),t.getFullname?e("div",{staticClass:"m-0 text-truncate small text-muted"},[t._v(t._s(t.getFullname))]):t._e(),t._l(t.itemTags,(function(i){return e("generic-pill",{key:i.field,attrs:{item_list:t.itemList(i),label:i.label,color:i.color}})})),t._l(t.itemOrderedTags,(function(i){return e("generic-ordered-pill",{key:i.field,attrs:{item_list:t.item[i.field],label:i.label,color:i.color,field:i.field,item:t.item},on:{"finish-action":t.finishAction}})})),e("div",{staticClass:"mt-auto mb-1",attrs:{align:"right"}},[t.item[t.child_count]?e("span",{staticClass:"mx-2 btn btn-link btn-sm",staticStyle:{"z-index":"800"},on:{click:function(e){return t.$emit("item-action",{action:"get-children",source:t.item})}}},[t.item.show_children?e("div",[t._v(t._s(t.text.hide_children))]):e("div",[t._v(t._s(t.item[t.child_count])+" "+t._s(t.itemName))])]):t._e(),t.item[t.recipe_count]?e("span",{staticClass:"mx-2 btn btn-link btn-sm",staticStyle:{"z-index":"800"},on:{click:function(e){return t.$emit("item-action",{action:"get-recipes",source:t.item})}}},[t.item.show_recipes?e("div",[t._v(t._s(t.$t("Hide_Recipes")))]):e("div",[t._v(t._s(t.item[t.recipe_count])+" "+t._s(t.$t("Recipes")))])]):t._e()])],2)],1)],1),e("div",{staticClass:"card-img-overlay justify-content-right h-25 m-0 p-0 text-right"},[e("badges",{attrs:{item:t.item,model:t.model}}),t.show_context_menu?e("generic-context-menu",{staticClass:"p-0",attrs:{show_merge:t.useMerge,show_move:t.useMove,show_shopping:t.useShopping,show_onhand:t.useOnhand,show_ingredient_editor:t.useIngredientEditor},on:{"item-action":function(e){return t.$emit("item-action",{action:e,source:t.item})}}}):t._e()],1)],1)],1),t.item.show_children?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10 offset-md-2"},t._l(t.item[t.children],(function(i){return e("generic-horizontal-card",{key:i.id,attrs:{item:i,model:t.model},on:{"item-action":function(e){return t.$emit("item-action",e)}}})})),1)]):t._e(),t.item.show_recipes?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10 offset-md-2"},[e("div",{staticStyle:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(200px, 1fr))","grid-gap":"1rem"}},t._l(t.item[t.recipes],(function(t){return e("recipe-card",{key:t.id,attrs:{recipe:t}})})),1)])]):t._e(),e("b-list-group",{directives:[{name:"show",rawName:"v-show",value:t.show_menu,expression:"show_menu"},{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeMenu,expression:"closeMenu"}],ref:"tooltip",staticStyle:{"z-index":"9999",cursor:"pointer"},attrs:{variant:"light"}},[t.useMove?e("b-list-group-item",{attrs:{action:""},on:{click:function(e){t.$emit("item-action",{action:"move",target:t.item,source:t.source}),t.closeMenu()}}},[e("i",{staticClass:"fas fa-expand-arrows-alt fa-fw"}),t._v(" "),e("b",[t._v(t._s(t.$t("Move")))]),t._v(": "),e("span",{domProps:{innerHTML:t._s(t.$t("move_confirmation",{child:t.$sanitize(t.source.name),parent:t.$sanitize(t.item.name)}))}})]):t._e(),t.useMerge?e("b-list-group-item",{attrs:{action:""},on:{click:function(e){t.$emit("item-action",{action:"merge",target:t.item,source:t.source}),t.closeMenu()}}},[e("i",{staticClass:"fas fa-compress-arrows-alt fa-fw"}),t._v(" "),e("b",[t._v(t._s(t.$t("Merge")))]),t._v(": "),e("span",{domProps:{innerHTML:t._s(t.$t("merge_confirmation",{source:t.$sanitize(t.source.name),target:t.$sanitize(t.item.name)}))}})]):t._e(),t.useMerge?e("b-list-group-item",{attrs:{action:""},on:{click:function(e){t.$emit("item-action",{action:"merge-automate",target:t.item,source:t.source}),t.closeMenu()}}},[e("i",{staticClass:"fas fa-robot fa-fw"}),t._v(" "),e("b",[t._v(t._s(t.$t("Merge"))+" & "+t._s(t.$t("Automate")))]),t._v(": "),e("span",{domProps:{innerHTML:t._s(t.$t("merge_confirmation",{source:t.$sanitize(t.source.name),target:t.$sanitize(t.item.name)}))}}),t._v(" "+t._s(t.$t("create_rule"))+" "),e("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("warning_feature_beta")}},[t._v("BETA")])],1):t._e(),e("b-list-group-item",{attrs:{action:""},on:{click:function(e){return t.closeMenu()}}},[e("i",{staticClass:"fas fa-times fa-fw"}),t._v(" "),e("b",[t._v(t._s(t.$t("Cancel")))])])],1)],1)},a=[],s=i(66276),r=i(3736),o=i(71602),l=i(62325),c=i(13470),d=i(65463),u=i(18140),p=i(49665),m=i(70538),h=i(65284),f=i.n(h);m["default"].use(f());var _={name:"GenericHorizontalCard",components:{GenericContextMenu:s["default"],RecipeCard:c["default"],Badges:r["default"],GenericPill:o["default"],GenericOrderedPill:l["default"]},mixins:[d.jB,p.ApiMixin],props:{item:{type:Object},model:{type:Object},title:{type:String,default:"name"},plural:{type:String,default:"plural_name"},subtitle:{type:String,default:"description"},child_count:{type:String,default:"numchild"},children:{type:String,default:"children"},recipe_count:{type:String,default:"numrecipe"},recipes:{type:String,default:"recipes"},show_context_menu:{type:Boolean,default:!0}},data(){return{item_image:"",over:!1,show_menu:!1,dragMenu:void 0,isError:!1,source:{id:void 0,name:void 0},target:{id:void 0,name:void 0},text:{hide_children:""}}},mounted(){this.item_image=this.item?.image??window.IMAGE_PLACEHOLDER,this.dragMenu=this.$refs.tooltip,this.text.hide_children=this.$t("Hide_"+this.itemName)},computed:{itemName:function(){return this.model?.name??"You Forgot To Set Model Name in model.js"},useMove:function(){return!!this.model?.["move"]},useMerge:function(){return!!this.model?.["merge"]},useShopping:function(){return!!this.model?.["shop"]},useOnhand:function(){return!!this.model?.["onhand"]},useDrag:function(){return this.useMove||this.useMerge},useIngredientEditor:function(){return this.model===this.Models.FOOD||this.model===this.Models.UNIT},itemTags:function(){return this.model?.tags??[]},itemOrderedTags:function(){return this.model?.ordered_tags??[]},getFullname:function(){if(this.item?.full_name?.includes(">"))return this.item?.full_name}},methods:{handleDragStart:function(t){this.isError=!1,t.dataTransfer.setData("source",JSON.stringify(this.item))},handleDragEnter:function(t){t.currentTarget.contains(t.relatedTarget)||null==t.relatedTarget||(this.over=!0)},handleDragLeave:function(t){t.currentTarget.contains(t.relatedTarget)||(this.over=!1)},handleDragDrop:function(t){let e=JSON.parse(t.dataTransfer.getData("source"));if(e.id!=this.item.id){this.source=e;let i={getBoundingClientRect:this.generateLocation(t.clientX,t.clientY)};this.show_menu=!0;let n=(0,u.fi)(i,this.dragMenu,{placement:"bottom-start",modifiers:[{name:"preventOverflow",options:{rootBoundary:"document"}},{name:"flip",options:{fallbackPlacements:["bottom-end","top-start","top-end","left-start","right-start"],rootBoundary:"document"}}]});n.update(),this.over=!1}else this.isError=!0},generateLocation:function(t=0,e=0){return()=>({width:0,height:0,top:e,right:t,bottom:e,left:t})},closeMenu:function(){this.show_menu=!1},finishAction:function(t){this.$emit("finish-action",t)},itemList:function(t){let e=this.item?.[t?.field]??[];return Array.isArray(e)?e:[e]}}},g=_,v=i(1001),b=(0,v.Z)(g,n,a,!1,null,"cfb0b00c",null),w=b.exports},62325:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return t.itemList?e("draggable",{attrs:{tag:"span",group:"ordered_items","z-index":"500"},on:{change:t.orderChanged},model:{value:t.this_list,callback:function(e){t.this_list=e},expression:"this_list"}},t._l(t.itemList,(function(i){return e("span",{key:i.id,staticClass:"pl-1"},[e("b-badge",{attrs:{squared:"",variant:t.color}},[e("i",{staticClass:"fas fa-grip-lines-vertical text-muted"}),e("span",{staticClass:"ml-1"},[t._v(t._s(t.thisLabel(i)))])])],1)})),0):t._e()},a=[],s=i(9980),r=i.n(s),o={name:"GenericOrderedPill",components:{draggable:r()},props:{item_list:{type:Array,default(){return[]}},label:{type:String,default:"name"},color:{type:String,default:"light"},field:{type:String,required:!0},item:{type:Object}},data(){return{this_list:[]}},computed:{itemList:function(){return Array.isArray(this.this_list)?this.this_list:!!this.this_list?.name&&[this.this_list]}},mounted(){this.this_list=this.item_list},watch:{item_list:function(t){this.this_list=t}},methods:{thisLabel:function(t){let e=this.label.split("::"),i=t;return e.forEach((t=>{i=i[t]})),i},orderChanged:function(t){let e=0;this.this_list.forEach((t=>{t["order"]=e,e++}));let i={...this.item};i[this.field]=this.this_list,this.$emit("finish-action",{action:"save",form_data:i})}}},l=o,c=i(1001),d=(0,c.Z)(l,n,a,!1,null,null,null),u=d.exports},71602:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return t.itemList?e("div",t._l(t.itemList,(function(i){return e("span",{key:i.id,staticClass:"pl-1"},[e("b-badge",{attrs:{pill:"",variant:t.color}},[t._v(t._s(t.thisLabel(i)))])],1)})),0):t._e()},a=[],s={name:"GenericPill",props:{item_list:{type:Array},label:{type:String,default:"name"},color:{type:String,default:"light"}},computed:{itemList:function(){return Array.isArray(this.item_list)?this.item_list:!!this.item_list?.id&&[this.item_list]}},mounted(){},methods:{thisLabel:function(t){let e=this.label.split("::"),i=t;return e.forEach((t=>{i=i[t]})),i}}},r=s,o=i(1001),l=(0,o.Z)(r,n,a,!1,null,null,null),c=l.exports},91515:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ingredients",class:{"card border-primary no-border":t.header}},[e("div",{class:{"card-body":t.header,"p-0":t.header}},[t.header?e("div",{staticClass:"card-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[e("i",{staticClass:"fas fa-pepper-hot"}),t._v(" "+t._s(t.$t("Ingredients")))])])])]):t._e(),e("div",{staticClass:"card-body p-1 p-md-3"},[e("div",{staticClass:"row no-gutter"},[e("div",{staticClass:"col-12 m-0",class:{"p-0":!t.header}},[e("table",{staticClass:"table table-sm mb-0"},[t._l(t.steps,(function(i){return[i.show_as_header&&""!==i.name&&t.steps.length>1?e("tr",{key:i.id,staticClass:"ingredients__header-step-name"},[e("td",{attrs:{colspan:"5"}},[e("b",[t._v(t._s(i.name))])])]):t._e(),t._l(i.ingredients,(function(i){return[e("ingredient-component",{key:i.id,attrs:{ingredient:i,ingredient_factor:t.ingredient_factor,detailed:t.detailed},on:{"checked-state-changed":function(e){return t.$emit("checked-state-changed",e)}}})]}))]}))],2)])])])])])},a=[],s=i(70538),r=i(12120),o=(i(57024),i(40841)),l=i(49665);s["default"].use(r.XG7);var c={name:"IngredientCard",mixins:[l.ApiMixin],components:{IngredientComponent:o["default"]},props:{steps:{type:Array,default(){return[]}},recipe:{type:Number},ingredient_factor:{type:Number,default:1},servings:{type:Number,default:1},detailed:{type:Boolean,default:!0},header:{type:Boolean,default:!1},recipe_list:{type:Number,default:void 0}},data(){return{}},computed:{},watch:{},mounted(){},methods:{}},d=c,u=i(1001),p=(0,u.Z)(d,n,a,!1,null,null,null),m=p.exports},32825:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var n=function(){var t=this,e=t._self._c;return t.recipe.keywords.length>0?e("div",{staticClass:"keywords"},t._l(t.recipe.keywords.slice(0,t.keyword_splice).filter((t=>t.show||void 0===t.show)),(function(i){return e("span",{key:i.id,staticClass:"keywords__item pl-1",class:t.keywordClass(i)},[t.enable_keyword_links?[e("a",{attrs:{href:`${t.resolveDjangoUrl("view_search")}?keyword=${i.id}`}},[e("b-badge",{staticClass:"font-weight-normal",attrs:{pill:"",variant:"light"}},[t._v(t._s(i.label))])],1)]:[e("b-badge",{staticClass:"font-weight-normal",attrs:{pill:"",variant:"light"}},[t._v(t._s(i.label))])]],2)})),0):t._e()},a=[],s=i(49665),r={name:"KeywordsComponent",mixins:[s.ResolveUrlMixin,s.EscapeCSSMixin],props:{recipe:Object,limit:Number,enable_keyword_links:{type:Boolean,default:!0}},computed:{keyword_splice:function(){return this.limit?this.limit:this.recipe.keywords.length}},methods:{keywordClass:function(t){return this.escapeCSS("_keywordname-"+t.label)}}},o=r,l=i(1001),c=(0,l.Z)(o,n,a,!1,null,null,null),d=c.exports},92077:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"last-cooked"},[void 0!==t.recipe.last_cooked&&null!==t.recipe.last_cooked?e("span",{staticClass:"pl-1"},[e("b-badge",{staticClass:"font-weight-normal",attrs:{pill:"",variant:"primary"}},[e("i",{staticClass:"fas fa-utensils"}),t._v(" "+t._s(t.formatDate(t.recipe.last_cooked)))])],1):t._e()])},a=[],s=i(30381),r=i.n(s),o={name:"LastCooked",props:{recipe:Object},methods:{formatDate:function(t){return r().locale(window.navigator.language),r()(t).format("L")}}},l=o,c=i(1001),d=(0,c.Z)(l,n,a,!1,null,"5a23d523",null),u=d.exports},13470:function(t,e,i){i.r(e),i.d(e,{default:function(){return v}});var n=function(){var t=this,e=t._self._c;return e("div",[t.recipe&&t.recipe.loading?[e("b-card",{directives:[{name:"hover",rawName:"v-hover"}],staticStyle:{height:"100%"},attrs:{"no-body":""}},[e("b-card-img-lazy",{staticStyle:{height:"15vh","object-fit":"cover"},attrs:{src:t.placeholder_image,alt:t.$t("Recipe_Image"),top:""}}),e("b-card-body",{staticClass:"p-4"},[e("h6",[e("b-skeleton",{attrs:{width:"95%"}})],1),e("b-card-text",[e("b-skeleton",{attrs:{height:"12px",width:"65%"}}),e("b-skeleton",{attrs:{height:"12px",width:"45%"}}),e("b-skeleton",{attrs:{height:"12px",width:"55%"}})],1)],1)],1)]:[t.recipe?e("b-card",{directives:[{name:"hover",rawName:"v-hover"}],staticStyle:{height:"100%"},attrs:{"no-body":""}},[e("a",{attrs:{href:t.recipe_link}},[e("div",{staticClass:"content"},[null!==t.recipe.description&&""!==t.recipe.description?e("div",{staticClass:"content-overlay"}):t._e(),e("b-card-img-lazy",{staticStyle:{height:"15vh","object-fit":"cover"},attrs:{src:t.recipe_image,alt:t.$t("Recipe_Image"),top:""}}),e("div",{staticClass:"content-details"},[e("p",{staticClass:"content-text"},[t._v(" "+t._s(t.recipe.description)+" ")])]),e("b-row",{staticClass:"card-img-overlay pt-1"},[e("b-col",{attrs:{cols:"6"}},[0!==t.recipe.working_time||0!==t.recipe.waiting_time?e("div",[0!==t.recipe.working_time&&void 0!==t.recipe.working_time?e("b-badge",{staticClass:"mt-1 font-weight-normal",attrs:{pill:"",variant:"light"}},[e("i",{staticClass:"fa fa-clock"}),t._v(" "+t._s(t.working_time)+" ")]):t._e(),0!==t.recipe.waiting_time&&void 0!==t.recipe.waiting_time?e("b-badge",{staticClass:"mt-1 font-weight-normal",attrs:{pill:"",variant:"secondary"}},[e("i",{staticClass:"fa fa-pause"}),t._v(" "+t._s(t.waiting_time)+" ")]):t._e()],1):t._e()]),e("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[e("recipe-rating",{attrs:{recipe:t.recipe,pill:!0}})],1)],1)],1)]),e("b-card-body",{staticClass:"p-2 pl-3 pr-3"},[e("div",{staticClass:"d-flex flex-row"},[e("div",{staticClass:"flex-grow-1"},[e("a",{staticClass:"text-body font-weight-bold two-row-text",attrs:{href:t.recipe_link}},[null!==t.recipe?[t._v(t._s(t.recipe.name))]:[t._v(t._s(t.meal_plan.title))]],2)]),e("div",{staticClass:"justify-content-end"},[null!==t.recipe&&t.show_context_menu?e("recipe-context-menu",{staticClass:"justify-content-end float-right align-items-end pr-0",attrs:{recipe:t.recipe,disabled_options:t.context_disabled_options}}):t._e()],1)]),e("b-card-text",{staticStyle:{"text-overflow":"ellipsis"}},[null!==t.recipe?[t.show_detail?e("div",[t._v(" "+t._s(t.recipe.description)+" ")]):t._e(),e("p",{staticClass:"mt-1 mb-1"},[e("last-cooked",{attrs:{recipe:t.recipe}}),e("keywords-component",{staticStyle:{"margin-top":"4px",position:"relative","z-index":"3"},attrs:{recipe:t.recipe,limit:3,enable_keyword_links:t.enable_keyword_links}})],1),e("transition",{attrs:{name:"fade",mode:"in-out"}},[t.show_detail?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-12"},[e("h6",{staticClass:"card-title"},[e("i",{staticClass:"fas fa-pepper-hot"}),t._v(" "+t._s(t.$t("Ingredients")))]),e("ingredients-card",{attrs:{steps:t.recipe.steps,header:!1,detailed:!1,servings:t.recipe.servings}})],1)]):t._e()]),void 0===t.recipe.internal||t.recipe.internal?t._e():e("b-badge",{attrs:{pill:"",variant:"info"}},[t._v(t._s(t.$t("External")))])]:t._e()],2)],1)],1):t._e()]],2)},a=[],s=i(91515),r=i(32825),o=i(92077),l=i(21956),c=i(11840),d=i(49665),u=i(30381),p=i.n(u),m=i(70538);m["default"].prototype.moment=p();var h={name:"RecipeCard",mixins:[d.ResolveUrlMixin],components:{LastCooked:o["default"],KeywordsComponent:r["default"],"recipe-context-menu":l["default"],IngredientsCard:s["default"],RecipeRating:c["default"]},props:{recipe:Object,meal_plan:Object,footer_text:String,footer_icon:String,detailed:{type:Boolean,default:!0},show_context_menu:{type:Boolean,default:!0},context_disabled_options:Object,open_recipe_on_click:{type:Boolean,default:!0},enable_keyword_links:{type:Boolean,default:!0}},data(){return{placeholder_image:window.IMAGE_PLACEHOLDER}},mounted(){},computed:{show_detail:function(){return void 0!==this.recipe?.steps&&this.detailed},recipe_image:function(){return null==this.recipe||null===this.recipe.image?window.IMAGE_PLACEHOLDER:this.recipe.image},working_time:function(){return(0,d.calculateHourMinuteSplit)(this.recipe.working_time)},waiting_time:function(){return(0,d.calculateHourMinuteSplit)(this.recipe.waiting_time)},recipe_link:function(){return this.open_recipe_on_click?void 0!==this.recipe.id?(0,d.resolveDjangoUrl)("view_recipe",this.recipe.id):null:"#"}},methods:{},directives:{hover:{inserted:function(t){t.addEventListener("mouseenter",(()=>{t.classList.add("shadow")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("shadow")}))}}}},f=h,_=i(1001),g=(0,_.Z)(f,n,a,!1,null,"8dba8f0c",null),v=g.exports},11840:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rating"},[t.recipe.rating>0?e("span",{staticClass:"d-inline"},[t.pill?e("div",[e("b-badge",{staticClass:"mt-1 font-weight-normal",attrs:{pill:"",variant:"light"}},[t._l(Math.floor(t.recipe.rating),(function(t){return e("i",{key:t,staticClass:"fas fa-star fa-xs text-dark"})})),t.recipe.rating%1>0?e("i",{staticClass:"fas fa-star-half-alt fa-xs text-dark"}):t._e(),t._l(5-Math.ceil(t.recipe.rating),(function(t){return e("i",{key:t+10,staticClass:"far fa-star fa-xs text-dark"})}))],2)],1):e("div",[t._l(Math.floor(t.recipe.rating),(function(t){return e("i",{key:t,staticClass:"fas fa-star fa-xs text-primary"})})),t.recipe.rating%1>0?e("i",{staticClass:"fas fa-star-half-alt fa-xs text-primary"}):t._e(),t._l(5-Math.ceil(t.recipe.rating),(function(t){return e("i",{key:t+10,staticClass:"far fa-star fa-xs text-secondary"})}))],2)]):t._e()])},a=[],s={name:"RecipeRating",props:{recipe:Object,pill:{required:!1,type:Boolean,default:!1}}},r=s,o=i(1001),l=(0,o.Z)(r,n,a,!1,null,"b597b90a",null),c=l.exports}}]);