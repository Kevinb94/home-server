(self["webpackChunktandoor"]=self["webpackChunktandoor"]||[]).push([[8599,6343,7819,2965,4916],{3736:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return l}});var i=function(){var t=this,n=t._self._c;return n("span",[t.linkedRecipe?n("linked-recipe",{attrs:{item:t.item}}):t._e(),t.Icon?n("icon-badge",{attrs:{item:t.item}}):t._e(),t.OnHand?n("on-hand-badge",{attrs:{item:t.item}}):t._e(),t.Shopping?n("shopping-badge",{attrs:{item:t.item}}):t._e()],1)},o=[],s=e(46294),a=e(68112),r=e(92016),d=e(99010),p={name:"CardBadges",components:{LinkedRecipe:s["default"],IconBadge:a["default"],OnHandBadge:r["default"],ShoppingBadge:d["default"]},props:{item:{type:Object},model:{type:Object}},data(){return{}},mounted(){},computed:{linkedRecipe:function(){return this.model?.badges?.linked_recipe??!1},Icon:function(){return this.model?.badges?.icon??!1},OnHand:function(){return this.model?.badges?.food_onhand??!1},Shopping:function(){return this.model?.badges?.shopping??!1}},watch:{},methods:{}},c=p,h=e(1001),u=(0,h.Z)(c,i,o,!1,null,null,null),l=u.exports},68112:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return p}});var i=function(){var t=this,n=t._self._c;return n("span",[t.item.icon?n("b-button",{staticClass:"btn px-1 py-0 border-0 text-decoration-none",attrs:{variant:"link"}},[t._v(" "+t._s(t.item.icon)+" ")]):t._e()],1)},o=[],s={name:"IconBadge",props:{item:{type:Object}},data(){return{}},mounted(){},watch:{},methods:{}},a=s,r=e(1001),d=(0,r.Z)(a,i,o,!1,null,null,null),p=d.exports},46294:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return p}});var i=function(){var t=this,n=t._self._c;return n("span",[t.item.recipe?n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn text-decoration-none fas fa-book-open px-1 py-0 border-0",attrs:{title:t.item.recipe.name,variant:"link",href:t.item.recipe.url}}):t._e()],1)},o=[],s={name:"LinkedRecipeBadge",props:{item:{type:Object}},data(){return{}},mounted(){},watch:{},methods:{}},a=s,r=e(1001),d=(0,r.Z)(a,i,o,!1,null,null,null),p=d.exports},92016:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return l}});var i=function(){var t=this,n=t._self._c;return n("span",[t.item.ignore_shopping?t._e():n("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html",modifiers:{hover:!0,html:!0}}],staticClass:"btn text-decoration-none fas px-1 py-0 border-0",class:t.IconClass,attrs:{variant:"link",title:t.$sanitize(t.Title)},on:{click:t.toggleOnHand}})],1)},o=[],s=e(49665),a=e(70538),r=e(65284),d=e.n(r);a["default"].use(d());var p={name:"OnHandBadge",props:{item:{type:Object}},mixins:[s.ApiMixin],data(){return{onhand:!1}},computed:{Title:function(){return this.onhand?this.$t("FoodOnHand",{food:this.item.name}):this.item.substitute_onhand?this.$t("SubstituteOnHand"):this.$t("FoodNotOnHand",{food:this.item.name})},IconClass:function(){return this.onhand?"text-success fa-clipboard-check":this.item.substitute_onhand?"text-warning fa-clipboard-check":"text-muted fa-clipboard"}},mounted(){this.onhand=this.item.food_onhand},watch:{"item.food_onhand":function(t,n){this.onhand=t}},methods:{toggleOnHand(){let t={id:this.item.id,food_onhand:!this.onhand};this.genericAPI(this.Models.FOOD,this.Actions.UPDATE,t).then((()=>{this.onhand=!this.onhand}))}}},c=p,h=e(1001),u=(0,h.Z)(c,i,o,!1,null,null,null),l=u.exports},99010:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return l}});var i=function(){var t=this,n=t._self._c;return t.item.ignore_shopping?t._e():n("span",[n("b-button",{staticClass:"btn text-decoration-none px-1 border-0",attrs:{variant:"link",id:`shopping${t.item.id}`},on:{click:function(n){return t.addShopping()}}},[n("i",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.html",modifiers:{hover:!0,html:!0}}],staticClass:"fas",class:[t.shopping?"text-success fa-shopping-cart":"text-muted fa-cart-plus"],attrs:{title:[t.shopping?t.$t("RemoveFoodFromShopping",{food:t.$sanitize(t.item.name)}):t.$t("AddFoodToShopping",{food:t.$sanitize(t.item.name)})]}})]),t.shopping?n("b-popover",{ref:"shopping"+t.item.id,attrs:{target:`${t.ShowConfirmation}`,triggers:"focus",placement:"top"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.DeleteConfirmation))]},proxy:!0}],null,!1,3160249158)},[n("b-row",{attrs:{"align-h":"end"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{staticClass:"btn btn-sm btn-info shadow-none px-1 border-0",on:{click:function(n){return t.cancelDelete()}}},[t._v(t._s(t.$t("Cancel")))]),n("b-button",{staticClass:"btn btn-sm btn-danger shadow-none px-1",on:{click:function(n){return t.confirmDelete()}}},[t._v(t._s(t.$t("Confirm")))])],1)],1)],1):t._e()],1)},o=[],s=e(49665),a=e(70538),r=e(65284),d=e.n(r);a["default"].use(d());var p={name:"ShoppingBadge",props:{item:{type:Object}},mixins:[s.ApiMixin],data(){return{shopping:!1}},mounted(){this.shopping=this.item?.shopping},computed:{DeleteConfirmation(){return this.$t("DeleteShoppingConfirm",{food:this.item.name})},ShowConfirmation(){return this.shopping?"shopping"+this.item.id:""}},watch:{"item.shopping":function(t,n){this.shopping=t}},methods:{addShopping(){if(this.shopping)return;let t={id:this.item.id,amount:1};this.genericAPI(this.Models.FOOD,this.Actions.SHOPPING,t).then((t=>{this.shopping=!0,s.StandardToasts.makeStandardToast(this,s.StandardToasts.SUCCESS_CREATE)}))},cancelDelete(){this.$refs["shopping"+this.item.id].$emit("close")},confirmDelete(){let t={id:this.item.id,_delete:"true"};this.genericAPI(this.Models.FOOD,this.Actions.SHOPPING,t).then((()=>{this.shopping=!1,this.$refs["shopping"+this.item.id].$emit("close"),s.StandardToasts.makeStandardToast(this,s.StandardToasts.SUCCESS_DELETE)}))}}},c=p,h=e(1001),u=(0,h.Z)(c,i,o,!1,null,null,null),l=u.exports},22868:function(){},14777:function(){},99830:function(){},70209:function(){},87414:function(){}}]);